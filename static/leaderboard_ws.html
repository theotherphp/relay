<html>
<title>Leaderboard</title>
<script language="javascript" type="text/javascript">
  var socket = "ws://localhost:8888/leaderboard_ws";
  var output;
  
  function init() { 
    output = document.getElementById("result"); 
    
    DemoWebSocket(); } 
  
  function DemoWebSocket()
  { 
    websocket = new WebSocket(socket);
    
       //Event handler for open
    websocket.onopen = function(event)
    { onOpen(event) };
    
       //Event handler for close 
   websocket.onclose = function(event)
   { onClose(event) };
    
       //Event handler for message
   websocket.onmessage = function(event)
   { onMessage(event) }; 
   
   //Event handler for error
   websocket.onerror = function(event) 
   { onError(event) }; }

// Function for respective event    
  function onOpen(event) 
  { writeToScreen("WEBSOCKET CONNECTED");
   doSend("WebSocket is Awesome "); } 
  function onClose(event)
  
  { writeToScreen("WEBSOCKET DISCONNECTED"); } 
  function onMessage(event)
  { 
    writeToScreen('<span style="color: #fa4b2a;">onmessage: ' 
                   + event.data+'</span>');
  }  
  function onError(event) { writeToScreen('<span style="color: red;">ERROR:</span> '
                           + event.data);
                        }  
  function doSend(message)
  { writeToScreen("SENT: " + message);
   websocket.send(message); }  
   
  function writeToScreen(message)
  { var temp = document.createElement("p");
   temp.style.wordWrap = "break-word"; 
   temp.innerHTML = message; output.appendChild(temp); 
  }  
  window.addEventListener("load", init, false);
</script>  <h2>HTML5 WebSocket Demo</h2>  <div id="result"></div>
</html>